---
title: 'Trading Agent'
icon: 'arrow-trend-up'
---

### Model Overview 

| Detail | Description                           |
| -------- | ------------------------------------- |
| Mandatory Time Periods     | 1 - 501                    |
| Optional Time Periods      | 502 - 3000                         |

### Request Header 


<ParamField header="API-Key" type="string" required>
      API Key
    </ParamField>


### Request Body 

#### The request body should contain an array of time periods. Each period must include all required fields and may include optional time periods. The dictionary structure is consistent for all periods.

<ParamField body="P1" type="dict" required>
  <Expandable title="P1">
    <ParamField body="Datetime" type="string" required>
      Datetime for the period
    </ParamField>
    <ParamField body="Open" type="number" required>
      Opening price for the period
    </ParamField>
    <ParamField body="High" type="number" required>
      Highest price for the period
    </ParamField>
    <ParamField body="Low" type="number" required>
      Lowest price for the period
    </ParamField>
    <ParamField body="Close" type="number" required>
      Closing price for the period
    </ParamField>
  </Expandable>
</ParamField>
...
<ParamField body="P502" type="dict">
  <Expandable title="P502">
    <ParamField body="Datetime" type="string">
      Datetime for the period
    </ParamField>
    <ParamField body="Open" type="number">
      Opening price for the period
    </ParamField>
    <ParamField body="High" type="number">
      Highest price for the period
    </ParamField>
    <ParamField body="Low" type="number">
      Lowest price for the period
    </ParamField>
    <ParamField body="Close" type="number">
      Closing price for the period
    </ParamField>
  </Expandable>
</ParamField>
...
<ParamField body="P3000" type="dict">
  <Expandable title="P3000">
    <ParamField body="Datetime" type="string">
      Datetime for the period
    </ParamField>
    <ParamField body="Open" type="number">
      Opening price for the period
    </ParamField>
    <ParamField body="High" type="number">
      Highest price for the period
    </ParamField>
    <ParamField body="Low" type="number">
      Lowest price for the period
    </ParamField>
    <ParamField body="Close" type="number">
      Closing price for the period
    </ParamField>
  </Expandable>
</ParamField>

<ParamField body="higher_timeframe_bucket" type="integer" default="5">
  Groups submitted time series into higher timeframe for signal/confirmation analysis.
</ParamField>


#### Example Request Structure
```python

{'P1': {'Datetime': '2024-01-01 00:00:00', 'Open': 17.24, 'High': 20.14, 'Low': 16.47,'Close': 20.16}, 'P2': {'Datetime': '2024-01-02 00:00:00', 'Open': 20.26, 'High': 24.60, 'Low': 20.01, 'Close': 24.66}, "higher_timeframe_bucket":5"}

```


<Tip>The array of time periods should end with the period to forecast.</Tip>

```python

## Example Structure

## To forecast the price trend on Feb 1st, zero (0) can be used. 

{'P501': {'Datetime': '2024-02-01 00:00:00', 'Open': 0, 'High': 0, 'Low': 0,'Close': 0}}

## To generate a price trend and risk forecast, an open price must be specified (previous close price can be used). 

{'P501': {'Datetime': '2024-02-01 00:00:00', 'Open': 24.66, 'High': 0, 'Low': 0,'Close': 0}}

```


### Response 

| Field | Description                           |
| -------- | ------------------------------------- |
| trade_open     | Trade opportunity identified (datetime).                 |
| trade_conviction| Trade conviction: Strong, Medium, Low.|
| exit_warning_stv   | Exit warning based on short term directional volatility patterns.|
| exit_warning_ltv   | Exit warning based on long term directional volatility patterns. |
| trade_direction   | Signal direction: Buy (1) or Sell (-1). |


#### Example Response Structure

```python

{"2024-02-24 00:00:00":{"trade_conviction":"Strong","exit_warning_stv":"2024-03-10 00:00:00","exit_warning_ltv":"2024-05-08 00:00:00","trade_direction":"1"}}

```


## Example Request with Synthetic Data

```python
import requests
import json
import pandas as pd

def create_genesis_input(df):
    """
    Helper function to turn your dataframe into a Python dictionary object ready for Genesis.

    Parameters:
        df (pd.DataFrame): The dataframe containing the OHLC data.

    Returns:
        dict: The dictionary formatted for Genesis API.
    """
    data = {}

    for idx, row in df.iterrows():
        key = idx + 1
        data[f'P{key}'] = {
            'Datetime': str(row['Datetime']),
            'Open': row['Open'],
            'High': row['High'],
            'Low': row['Low'],
            'Close': row['Close']
        }
    return data

# Example usage
df = pd.read_csv("import_data.csv")
genesis_input = create_genesis_input(df)
genesis_input.update({"API_KEY": "API_KEY_FOR_GENESIS"})

json_payload = json.dumps(genesis_input)
response = requests.post("https://www.sumtyme.ai/api/genesis", json=json_payload)

print(response.json())

```

